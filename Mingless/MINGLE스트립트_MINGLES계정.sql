
DROP TABLE ITEM CASCADE CONSTRAINTS; 
DROP SEQUENCE SEQ_ICA;
DROP TABLE ITEMCATEGORY CASCADE CONSTRAINTS; 
DROP SEQUENCE SEQ_ITEM ;
DROP TABLE ATTACHMENT CASCADE CONSTRAINTS;
DROP SEQUENCE SEQ_ATT;

-- 첨부파일
-- ATTACHMENT 테이블

CREATE TABLE ATTACHMENT(
    FILE_NO NUMBER CONSTRAINT ATTACHMENT_PK PRIMARY KEY,
    ORIGIN_NAME VARCHAR2(255) CONSTRAINT ATTACHMENT_ORIGIN_NAME_NN NOT NULL,
    CHANGE_NAME VARCHAR2(255) CONSTRAINT ATTACHMENT_CHANGE_NAME_NN NOT NULL,
    FILE_PATH VARCHAR2(1000) CONSTRAINT ATTACHMENT_FILE_PATH_NN NOT NULL,
    UPLOAD_DATE DATE DEFAULT SYSDATE CONSTRAINT ATTACHMENT_UPLOAD_DATE_NN NOT NULL,
    FILE_POSITION NUMBER CONSTRAINT ATTACHMENT_FILE_POSITION_NN NOT NULL,
    FILE_STATUS VARCHAR2(1) DEFAULT 'Y' CONSTRAINT ATTACHMENT_FILE_STATUS_NN NOT NULL
);

COMMENT ON COLUMN ATTACHMENT.FILE_NO IS '첨부파일고유번호';
COMMENT ON COLUMN ATTACHMENT.ORIGIN_NAME IS '파일원본명';
COMMENT ON COLUMN ATTACHMENT.CHANGE_NAME IS '파일수정명';
COMMENT ON COLUMN ATTACHMENT.FILE_PATH IS '저장폴더경로';
COMMENT ON COLUMN ATTACHMENT.UPLOAD_DATE IS '업로드일';
COMMENT ON COLUMN ATTACHMENT.FILE_POSITION IS '게시글 1''/채팅 2''/아이템 3''/음악 4''/미니홈피 5';
COMMENT ON COLUMN ATTACHMENT.FILE_STATUS IS '파일있음''Y'' | 파일없음''N''';

-- ATTACHMENT 시퀀스
CREATE SEQUENCE SEQ_ATT
START WITH 1
NOCACHE;

-- /resources/thumbnail_upfiles/
INSERT INTO ATTACHMENT (FILE_NO, ORIGIN_NAME, CHANGE_NAME, FILE_PATH, UPLOAD_DATE, FILE_POSITION, FILE_STATUS)
VALUES (SEQ_ATT.NEXTVAL, 'storeItem.png', 'storeItem.png', '/resources/item_upfiles/', SYSDATE, 3, 'Y');

 -- ITEMCATEGORY 테이블
CREATE TABLE ITEMCATEGORY(
ITEM_CATEGORY VARCHAR2(30) CONSTRAINT ITEMCATEGORY_PK PRIMARY KEY,
CATEGORYNAME VARCHAR2(40) CONSTRAINT ITEMCATEGORY_NAME_NN NOT NULL
);
-- SEQ_ICA 시퀀스
CREATE SEQUENCE SEQ_ICA
START WITH 1
NOCACHE;
 
 
-- ITEM 테이블
CREATE TABLE ITEM(
ITEM_NUM NUMBER CONSTRAINT ITEM_PK PRIMARY KEY,
ITEM_CATEGORY VARCHAR2(30) CONSTRAINT ITEM_ITEM_CATEGORY_FK REFERENCES ITEMCATEGORY(ITEM_CATEGORY),
ITEM_NAME VARCHAR2(50) CONSTRAINT ITEM_NAME_NN NOT NULL,
PRICE NUMBER CONSTRAINT ITEM_PRICE_NN NOT NULL,
ITEM_INTRO VARCHAR2(4000) CONSTRAINT ITEM_INTRO_NN NOT NULL,
ITEM_DATE DATE DEFAULT SYSDATE CONSTRAINT ITEM_DATE_NN NOT NULL,
ITEM_UPDATE DATE DEFAULT SYSDATE CONSTRAINT ITEM_UPDATE_NN NOT NULL,
ITEM_STATUS CHAR(1) CONSTRAINT ITEM_STATUS_NN NOT NULL,
ATTACHMENT_NO NUMBER CONSTRAINT ITEM_ATTACHMENT_FK REFERENCES ATTACHMENT(FILE_NO)
);
-- SEQ_ITEM 시퀀스
CREATE SEQUENCE SEQ_ITEM
START WITH 1
NOCACHE;

--ITEMCATEGORY 테이블 샘플 데이터
INSERT INTO ITEMCATEGORY (ITEM_CATEGORY, CATEGORYNAME)
VALUES ('IC1', '홈피꾸미기');

INSERT INTO ITEMCATEGORY (ITEM_CATEGORY, CATEGORYNAME)
VALUES ('IC2', '내방꾸미기');

INSERT INTO ITEMCATEGORY (ITEM_CATEGORY, CATEGORYNAME)
VALUES ('IC3', '아바타꾸미기');

INSERT INTO ITEMCATEGORY (ITEM_CATEGORY, CATEGORYNAME)
VALUES ('IC4', '아이템광장');

--ITEM 테이블 샘플 데이터
INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC1', 'Item 1', 100, 'Introduction to Item 1', SYSDATE, SYSDATE, 'Y' ,1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC2', 'Item 2', 200, 'Introduction to Item 2', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC3', 'Item 3', 300, 'Introduction to Item 3', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC4', 'Item 4', 400, 'Introduction to Item 4', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC1', 'Item 5', 500, 'Introduction to Item 5', SYSDATE, SYSDATE, 'Y', 1);
 
   
INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC1', 'Item 1', 100, 'Introduction to Item 1', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS. ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC2', 'Item 2', 100, 'Introduction to Item 2', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC3', 'Item 3', 100, 'Introduction to Item 3', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC4', 'Item 4', 100, 'Introduction to Item 4', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC1', 'Item 5', 100, 'Introduction to Item 5', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC2', 'Item 6', 100, 'Introduction to Item 6', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC3', 'Item 7', 100, 'Introduction to Item 7', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC4', 'Item 8', 100, 'Introduction to Item 8', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC1', 'Item 9', 100, 'Introduction to Item 9', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC2', 'Item 10', 100, 'Introduction to Item 10', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC3', 'Item 11', 100, 'Introduction to Item 11', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC4', 'Item 12', 100, 'Introduction to Item 12', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC1', 'Item 13', 100, 'Introduction to Item 13', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC2', 'Item 14', 100, 'Introduction to Item 14', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC3', 'Item 15', 100, 'Introduction to Item 15', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC4', 'Item 16', 100, 'Introduction to Item 16', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC1', 'Item 17', 100, 'Introduction to Item 17', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC2', 'Item 18', 100, 'Introduction to Item 18', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC3', 'Item 19', 100, 'Introduction to Item 19', SYSDATE, SYSDATE, 'Y', 1);

INSERT INTO ITEM (ITEM_NUM, ITEM_CATEGORY, ITEM_NAME, PRICE, ITEM_INTRO, ITEM_DATE, ITEM_UPDATE, ITEM_STATUS, ATTACHMENT_NO)
VALUES (SEQ_ITEM.NEXTVAL, 'IC4', 'Item 20', 100, 'Introduction to Item 20', SYSDATE, SYSDATE, 'Y', 1);   
 


COMMIT;

